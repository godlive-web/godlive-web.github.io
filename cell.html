<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3Dæ™¶èƒç»“æ„å¯è§†åŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: #0a0a1a;
            overflow: hidden;
            color: #fff;
        }

        /* é¡¶éƒ¨æ ‡é¢˜æ  */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 25px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            z-index: 100;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 22px;
            font-weight: 500;
            color: #e0e0ff;
        }

        /* æ“ä½œæç¤ºæ¡† */
        .control-tip {
            position: fixed;
            top: 80px;
            left: 20px;
            background: rgba(20, 20, 40, 0.8);
            padding: 12px 18px;
            border-radius: 8px;
            border: 1px solid rgba(100, 100, 255, 0.3);
            z-index: 99;
        }

        .control-tip p {
            font-size: 14px;
            margin: 4px 0;
            color: #c0c8ff;
        }

        /* æ™¶èƒè¯´æ˜é¢æ¿ */
        .cell-info {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(10, 10, 25, 0.85);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid rgba(120, 120, 255, 0.2);
            display: flex;
            gap: 25px;
            z-index: 99;
        }

        .cell-item {
            text-align: center;
        }

        .cell-item h3 {
            font-size: 16px;
            margin-bottom: 5px;
            color: #ff4444;
        }

        .cell-item:nth-child(2) h3 {
            color: #44aaff;
        }

        .cell-item:nth-child(3) h3 {
            color: #44dd44;
        }

        .cell-item p {
            font-size: 12px;
            color: #bbb;
        }

        /* 3Dç”»å¸ƒ */
        canvas {
            display: block;
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>

<body>

    <!-- é¡¶éƒ¨UI -->
    <div class="header">
        <h1>3Dæ™¶èƒç»“æ„äº¤äº’å¼å¯è§†åŒ–ï¼ˆç®€å•/ä½“å¿ƒ/é¢å¿ƒç«‹æ–¹ï¼‰</h1>
    </div>

    <!-- æ“ä½œæç¤ºUI -->
    <div class="control-tip">
        <p>ğŸ–±ï¸ å·¦é”®æ‹–æ‹½ï¼šæ—‹è½¬3Dæ¨¡å‹</p>
        <p>ğŸ–±ï¸ æ»šè½®æ»‘åŠ¨ï¼šæ”¾å¤§/ç¼©å°</p>
        <p>ğŸ“Œ ä¸‰æ™¶èƒæ°´å¹³ä¸²è”å±•ç¤º</p>
    </div>

    <!-- æ™¶èƒè¯´æ˜UI -->
    <div class="cell-info">
        <div class="cell-item">
            <h3>ç®€å•ç«‹æ–¹</h3>
            <p>ä»…é¡¶è§’åŸå­<br>è´¡çŒ®ï¼š1/8</p>
        </div>
        <div class="cell-item">
            <h3>ä½“å¿ƒç«‹æ–¹</h3>
            <p>é¡¶è§’+ä½“å¿ƒ<br>ä½“å¿ƒï¼šå®Œå…¨å æœ‰</p>
        </div>
        <div class="cell-item">
            <h3>é¢å¿ƒç«‹æ–¹</h3>
            <p>é¡¶è§’+6é¢å¿ƒ<br>é¢å¿ƒï¼šè´¡çŒ®1/2</p>
        </div>
    </div>

    <!-- Three.js 3Dæ ¸å¿ƒ -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>

    <script>
        // åœºæ™¯åˆå§‹åŒ–
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x0a0a1a, 1);
        document.body.appendChild(renderer.domElement);

        // é¼ æ ‡æ§åˆ¶
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.08;
        camera.position.set(10, 6, 12);

        // ç¯å…‰
        const dirLight = new THREE.DirectionalLight(0xffffff, 1.1);
        dirLight.position.set(8, 8, 8);
        scene.add(dirLight);
        scene.add(new THREE.AmbientLight(0x404060));

        // ç”Ÿæˆæ™¶èƒ
        function createCell(type, xPos) {
            const group = new THREE.Group();
            group.position.x = xPos;
            const size = 2;
            const half = size / 2;

            // æ™¶èƒçº¿æ¡†
            const boxGeo = new THREE.BoxGeometry(size, size, size);
            const boxEdges = new THREE.EdgesGeometry(boxGeo);
            const boxMat = new THREE.LineBasicMaterial({ color: 0xa0a0ff });
            const boxLine = new THREE.LineSegments(boxEdges, boxMat);
            group.add(boxLine);

            // é¡¶è§’åŸå­ï¼ˆçº¢ï¼‰
            const corners = [
                [-half,-half,-half], [half,-half,-half], [half,half,-half], [-half,half,-half],
                [-half,-half,half], [half,-half,half], [half,half,half], [-half,half,half]
            ];
            corners.forEach(p => {
                const s = new THREE.SphereGeometry(0.12, 16, 16);
                const m = new THREE.MeshLambertMaterial({ color: 0xff3333 });
                const mesh = new THREE.Mesh(s, m);
                mesh.position.set(...p);
                group.add(mesh);
            });

            // ä½“å¿ƒåŸå­ï¼ˆè“ï¼‰
            if (type === 'body') {
                const s = new THREE.SphereGeometry(0.16, 16, 16);
                const m = new THREE.MeshLambertMaterial({ color: 0x33aaff });
                group.add(new THREE.Mesh(s, m));
            }

            // é¢å¿ƒåŸå­ï¼ˆç»¿ï¼‰
            if (type === 'face') {
                const faces = [[half,0,0], [-half,0,0], [0,half,0], [0,-half,0], [0,0,half], [0,0,-half]];
                faces.forEach(p => {
                    const s = new THREE.SphereGeometry(0.13, 16, 16);
                    const m = new THREE.MeshLambertMaterial({ color: 0x33dd33 });
                    const mesh = new THREE.Mesh(s, m);
                    mesh.position.set(...p);
                    group.add(mesh);
                });
            }

            scene.add(group);
        }

        // ä¸‰æ™¶èƒä¸²è”å¹¶æ’
        createCell('simple', -6);
        createCell('body', 0);
        createCell('face', 6);

        // æ¸²æŸ“å¾ªç¯
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // çª—å£è‡ªé€‚åº”
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>

</body>
</html>
